FROM python:3.9-bullseye

WORKDIR /mtgml

COPY serving_requirements.txt requirements.txt
RUN pip install --no-cache-dir -r requirements.txt

COPY mtgml/ mtgml/
COPY ml_files/testing_tflite/ ml_files/testing_tflite/

ENTRYPOINT gunicorn -w 8 --access-logfile - -b 0.0.0.0:8000 --timeout 300 mtgml.server:app
