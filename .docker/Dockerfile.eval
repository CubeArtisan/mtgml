FROM python:3.9

RUN mkdir -p /mtgml
WORKDIR /mtgml

COPY requirements.txt requirements.txt
RUN apt-get clean && apt-get update && apt-get install -y libyajl-dev && pip install -r requirements.txt --no-cache-dir

COPY mtgml/ mtgml/
COPY ml_files/latest/ ml_files/latest/

ENTRYPOINT python -m mtgml.server.__init__
